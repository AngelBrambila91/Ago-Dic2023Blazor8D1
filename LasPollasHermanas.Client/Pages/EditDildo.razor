@page "/dildo"
@using Models
@using Data
@inject NavigationManager NavigationManager
<PageTitle>New Dildo</PageTitle>
<h1>Dildo Catalog</h1>
<h3>New Dildo</h3>

<div class="row">
    <div class="col-sm-4">
    <EditForm Model="@dildo" class="mb-5">
        <div class="mb-3">
            <label for="name" class="form-label">Name :</label>
            <InputText id="name" @bind-Value="dildo.Name" class="form-control"></InputText>
        </div>
        <div class="mb-3">
            <label for="price" class="form-label">Price :</label>
            <InputNumber id="price" @bind-Value="dildo.Price" class="form-control"></InputNumber>
        </div>
        <div class="mb-3">
            <label for="size" class="form-label">Size :</label>
            <InputNumber id="size" @bind-Value="dildo.Size" class="form-control"></InputNumber>
        </div>
        <div class="mb-3">
            <label for="expireDate" class="form-label">Expire Date :</label>
            <InputDate id="expireDate" @bind-Value="dildo.ExpireDate" class="form-control"></InputDate>
        </div>
        <div class="mb-3">
            <label for="material" class="form-label">Material :</label>
            <InputText id="material" @bind-Value="dildo.Material" class="form-control"></InputText>
        </div>
        <div class="mb-3">
            <label for="color" class="form-label">Color :</label>
            <InputText id="color" @bind-Value="dildo.Color" class="form-control"></InputText>
        </div>
        <div class="mb-3">
            <label for="stock" class="form-label">Name :</label>
            <InputNumber id="stock" @bind-Value="dildo.Stock" class="form-control"></InputNumber>
        </div>
        <button type="Submit" class="btn btn-primary" @onclick="HandleSubmit">Save</button>
    </EditForm>
    </div>
</div>

@code {
    private Dildo dildo = new()
    {
        Name = string.Empty,
        Price = 0.0M,
        Size = 0.0M,
        ExpireDate = DateTime.UtcNow
    };

    private void HandleSubmit()
    {
        DildoClient.AddDildo(dildo);
        NavigationManager.NavigateTo("/");
    }
}
